<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
	  <TargetFrameworks>net8.0;net9.0;net10.0</TargetFrameworks>
	  <LangVersion>latest</LangVersion>
	  <Nullable>enable</Nullable>
	  <NoWarn>IDE0290</NoWarn>
	  <IsAotCompatible Condition="$([MSBuild]::IsTargetFrameworkCompatible('$(TargetFramework)', 'net7.0'))">true</IsAotCompatible>
	  <RootNamespace>Json.Schema.Api</RootNamespace>
	  <AssemblyName>JsonSchema.Net.Api</AssemblyName>
	  <DocumentationFile>JsonSchema.Net.Api.xml</DocumentationFile>
	  <SignAssembly>true</SignAssembly>
	  <AssemblyOriginatorKeyFile>../../json-everything.snk</AssemblyOriginatorKeyFile>

	  <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
	  <IncludeSymbols>true</IncludeSymbols>
	  <SymbolPackageFormat>snupkg</SymbolPackageFormat>
	  <Version>1.0.0</Version>
	  <FileVersion>1.0.0</FileVersion>
	  <AssemblyVersion>1.0.0.0</AssemblyVersion>
	  <Authors>Greg Dennis</Authors>
	  <Description>Extends JsonSchema.Net to provide API-centric functionality like automatic request validation</Description>
	  <PackageReadmeFile>README.md</PackageReadmeFile>
	  <PackageIcon>json-logo-256.png</PackageIcon>
	  <PackageProjectUrl>https://github.com/json-everything/json-everything</PackageProjectUrl>
	  <RepositoryUrl>https://github.com/json-everything/json-everything</RepositoryUrl>
	  <PackageTags>json-schema api request body content validation schema json generation schema-generation</PackageTags>
	  <PackageReleaseNotes>Release notes can be found at https://docs.json-everything.net/rn-json-schema-api/</PackageReleaseNotes>
	  <PublishRepositoryUrl>true</PublishRepositoryUrl>
	  <EmbedUntrackedSources>true</EmbedUntrackedSources>
	  <PackageLicenseFile>OSMFEULA.txt</PackageLicenseFile>
	  <PackageRequireLicenseAcceptance>true</PackageRequireLicenseAcceptance>

	  <PolySharpIncludeRuntimeSupportedAttributes>true</PolySharpIncludeRuntimeSupportedAttributes>
  </PropertyGroup>

	<ItemGroup>
		<FrameworkReference Include="Microsoft.AspNetCore.App" />
	</ItemGroup>

  <ItemGroup>
		<None Include="..\..\tools\ApiDocsGenerator\release-notes\rn-json-schema-api.md" Link="release-notes.md" />
		<None Include="README.md" Pack="true" PackagePath="\" />
		<None Include="..\..\LICENSE" Pack="true" PackagePath="\" />
		<None Include="..\..\Resources\json-logo-256.png" Pack="true" PackagePath="\" />
		<None Include="..\..\OSMFEULA.txt" Pack="true" PackagePath="OSMFEULA.txt" />
	</ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\JsonSchema.Generation\JsonSchema.Generation.csproj" />
  </ItemGroup>

	<Target Name="PostBuild" AfterTargets="PostBuildEvent">
		<Copy SourceFiles="$(TargetDir)$(DocumentationFile)" DestinationFolder="..\..\doc-tool\xml\" SkipUnchangedFiles="True" OverwriteReadOnlyFiles="True" />
	</Target>

</Project>
